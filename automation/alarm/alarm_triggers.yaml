- alias: Trigger iedereen van huis
  description: ''
  trigger:
  - entity_id: group.presence
    platform: state
    to: 'not_home'
  
  action:
    service: alarm_control_panel.alarm_arm_away
    entity_id: alarm_control_panel.ha_alarm



- alias: Trigger iemand huis
  description: 'Disarm alarm als er iemand thuis komt.'
  trigger:
  - entity_id: group.presence
    platform: state
    to: 'home'  
  action:
    service: alarm_control_panel.alarm_disarm
    entity_id: alarm_control_panel.ha_alarm 
    
  
- alias: Trigger alarm while armed home
  trigger:
  - platform: state
    entity_id: binary_sensor.achterdeur
    to: 'on'
  - platform: state    
    entity_id: binary_sensor.voordeur
    to: 'on'
  - platform: state    
    entity_id: binary_sensor.raam_badkamer
    to: 'on'      
  - platform: state    
    entity_id: binary_sensor.window_kantoor
    to: 'on'  
  - platform: state    
    entity_id: binary_sensor.window_logeerkamer
    to: 'on'  
  - platform: state    
    entity_id: binary_sensor.window_slaapkamer
    to: 'on'  
  - platform: state    
    entity_id: binary_sensor.window_woonkamer
    to: 'on'      
  
  condition:
  - condition: state
    entity_id: alarm_control_panel.ha_alarm
    state: armed_home
        
  action:
    service: alarm_control_panel.alarm_trigger
    entity_id: alarm_control_panel.ha_alarm
    
    

- alias: Trigger alarm while armed night
  trigger:
  - platform: state
    entity_id: binary_sensor.achterdeur
    to: 'on'
  - platform: state    
    entity_id: binary_sensor.voordeur
    to: 'on'    
  - platform: state    
    entity_id: binary_sensor.raam_badkamer
    to: 'on'      
  - platform: state    
    entity_id: binary_sensor.window_kantoor
    to: 'on'  
  - platform: state    
    entity_id: binary_sensor.window_logeerkamer
    to: 'on'  
  - platform: state    
    entity_id: binary_sensor.window_slaapkamer
    to: 'on'  
  - platform: state    
    entity_id: binary_sensor.window_woonkamer
    to: 'on'          
  - platform: state    
    entity_id: binary_sensor.pir_zolder
    to: 'on'      
  - platform: state    
    entity_id: binary_sensor.motion_kantoor
    to: 'on'      
  
  condition:
  - condition: state
    entity_id: alarm_control_panel.ha_alarm
    state: armed_night
        
  action:
    service: alarm_control_panel.alarm_trigger
    entity_id: alarm_control_panel.ha_alarm
   
    
    
    
- alias: Trigger alarm while armed away
  trigger:
  - platform: state
    entity_id: binary_sensor.achterdeur
    to: 'on'
  - platform: state    
    entity_id: binary_sensor.voordeur
    to: 'on'
  - platform: state    
    entity_id: binary_sensor.window_kantoor
    to: 'on'  
  - platform: state    
    entity_id: binary_sensor.window_logeerkamer
    to: 'on'  
  - platform: state    
    entity_id: binary_sensor.window_slaapkamer
    to: 'on'  
  - platform: state    
    entity_id: binary_sensor.window_woonkamer
    to: 'on'  
  - platform: state  
    entity_id: binary_sensor.raam_badkamer
    to: 'on'         
  - platform: state    
    entity_id: binary_sensor.pir_zolder
    to: 'on'   
  - platform: state  
    entity_id: binary_sensor.motion_gang
    to: 'on'      
  - platform: state  
    entity_id: binary_sensor.motion_trap
    to: 'on'     
  - platform: state  
    entity_id: binary_sensor.motion_overloop
    to: 'on'     
  - platform: state  
    entity_id: binary_sensor.motion_slaapkamer
    to: 'on' 
  - platform: state  
    entity_id: binary_sensor.motion_logeerkamer 
    to: 'on'     

  condition:
  - condition: state
    entity_id: alarm_control_panel.ha_alarm
    state: armed_away
    
  action:
    service: alarm_control_panel.alarm_trigger
    entity_id: alarm_control_panel.ha_alarm    